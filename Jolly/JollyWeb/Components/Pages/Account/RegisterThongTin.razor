@using System.ComponentModel.DataAnnotations

<EditForm Model="@nguoiDung" OnSubmit="HandleSubmit">
    <DataAnnotationsValidator />
    <ValidationMessage For="() => nguoiDung.Ho" class="text-danger" />
    <label>Họ</label>
    <InputText class="form-input" @bind-Value="nguoiDung.Ho" />

    <ValidationMessage For="() => nguoiDung.Ten" class="text-danger" />
    <label>Tên</label>
    <InputText class="form-input" @bind-Value="nguoiDung.Ten" />

    <ValidationMessage For="() => nguoiDung.NgaySinh" class="text-danger" />
    <label>Ngày sinh</label>
    <InputDate class="form-input" @bind-Value="nguoiDung.NgaySinh" />

    <ValidationMessage For="() => nguoiDung.GioiTinh" class="text-danger" />
    <label>Giới tính</label>
    <InputSelect class="form-input" @bind-Value="nguoiDung.GioiTinh">
        <option value="">-- Chọn --</option>
        <option value="Nam">Nam</option>
        <option value="Nữ">Nữ</option>
        <option value="Khác">Khác</option>
    </InputSelect>

    <ValidationMessage For="() => nguoiDung.Gmail" class="text-danger" />
    <label>Email</label>
    <InputText class="form-input" @bind-Value="nguoiDung.Gmail" type="email" />

    <button class="form-submit" type="submit">Đăng ký</button>
</EditForm>


@code {
    [Parameter] public EventCallback OnClose { get; set; }
    private RegisterThongtin nguoiDung = new();
    private EditContext editContext;

    protected override void OnInitialized()
    {
        editContext = new EditContext(nguoiDung);
    }

    private async Task HandleSubmit(EditContext context)
    {
        if (context.Validate())   
        {
            await OnClose.InvokeAsync();
        }
        else
        {

        }
    }
}